import streamlit as st

st.set_page_config(page_title="ë¬¸í™” ì·¨í–¥ ë‚˜ë¼ ì¶”ì²œê¸°", page_icon="ğŸŒ", layout="centered")

# ------------------- íŒŒìŠ¤í…”í†¤ ë°°ê²½ -------------------
pastel_background = """
<style>
.stApp {
    background: linear-gradient(120deg, #fce4ec, #e3f2fd, #e8f5e9);
}
</style>
"""

st.markdown(pastel_background, unsafe_allow_html=True)

# ------------------- ì„¸ì…˜ ìƒíƒœ -------------------
if "page" not in st.session_state:
    st.session_state.page = "home"

# ------------------- ìœ„í—˜/ì£¼ì˜ êµ­ê°€ ë¦¬ìŠ¤íŠ¸ -------------------
attention_needed = ["ì¸ë„ ğŸ‡®ğŸ‡³", "íƒœêµ­ ğŸ‡¹ğŸ‡­", "ëª¨ë¡œì½” ğŸ‡²ğŸ‡¦", "ì´ì§‘íŠ¸ ğŸ‡ªğŸ‡¬", "ë¸Œë¼ì§ˆ ğŸ‡§ğŸ‡·", "ë‚¨ì•„ê³µ ğŸ‡¿ğŸ‡¦"]

# ------------------- ì§ˆë¬¸ í™”ë©´ -------------------
if st.session_state.page == "home":
    st.title("ğŸŒ ë¬¸í™” ì·¨í–¥ ê¸°ë°˜ ë‚˜ë¼ ì¶”ì²œê¸°")
    st.markdown("âœ¨ ëª‡ ê°€ì§€ ì§ˆë¬¸ì— ë‹µí•˜ê³ , ë‹¹ì‹ ê³¼ ê¼­ ë§ëŠ” ë‚˜ë¼ TOP 3ë¥¼ ì°¾ì•„ë³´ì„¸ìš”! âœ¨")

    with st.container():
        st.markdown("### ğŸœ ìŒì‹ ì·¨í–¥")
        food = st.radio("ë‹¹ì‹ ì˜ ìŒì‹ ìŠ¤íƒ€ì¼ì€?", 
                        ["ë§¤ìš´ ìŒì‹ ğŸŒ¶ï¸ğŸ”¥", "ë‹¬ì½¤í•œ ìŒì‹ ğŸ°ğŸ¯", "ë‹´ë°±í•œ ìŒì‹ ğŸ¥—ğŸµ", "ê³ ê¸° ìœ„ì£¼ ìŒì‹ ğŸ¥©ğŸ–", "í–¥ì‹ ë£Œ ê°•í•œ ìŒì‹ ğŸ›ğŸŒ¿"], 
                        horizontal=True)

    with st.container():
        st.markdown("### ğŸ¶ ìŒì•… ì·¨í–¥")
        music = st.radio("ë‹¹ì‹ ì´ ì¦ê²¨ ë“£ëŠ” ìŒì•…ì€?", 
                         ["íŒ/ëŒ„ìŠ¤ ğŸ¤ğŸ’ƒ", "í´ë˜ì‹/ì¬ì¦ˆ ğŸ»ğŸ·", "ì „í†µ ìŒì•… ğŸ¥ğŸª•", "ì¶•ì œ/ë¦¬ë“¬ ê°•í•œ ìŒì•… ğŸ‰ğŸ¥³"], 
                         horizontal=True)

    with st.container():
        st.markdown("### â˜€ï¸ ê¸°í›„ ì„ í˜¸")
        climate = st.radio("ì–´ë–¤ ê¸°í›„ë¥¼ ì„ í˜¸í•˜ì‹œë‚˜ìš”?", 
                           ["ì‚¬ê³„ì ˆ ëšœë ·í•œ ê³³ ğŸ‚â„ï¸ğŸŒ¸â˜€ï¸", "ë”°ëœ»í•˜ê³  ìŠµí•œ ê³³ ğŸŒ´â˜€ï¸", "ì„ ì„ í•˜ê³  ì˜¨í™”í•œ ê³³ ğŸŒ¤ï¸ğŸƒ", "ì¶”ìš´ ê³³ â„ï¸ğŸ¥¶", "ê±´ì¡°í•˜ê³  ëœ¨ê±°ìš´ ê³³ ğŸœï¸ğŸ”¥"], 
                           horizontal=True)

    with st.container():
        st.markdown("### ğŸ¨ ìˆ™ì†Œ ìŠ¤íƒ€ì¼")
        stay = st.radio("ì—¬í–‰í•  ë•Œ ì„ í˜¸í•˜ëŠ” ìˆ™ì†ŒëŠ”?", 
                        ["ëŸ­ì…”ë¦¬ í˜¸í…” ğŸ°âœ¨", "ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤/ì—ì–´ë¹„ì•¤ë¹„ ğŸ¡ğŸ›ï¸", "ìì—° ì† ë¦¬ì¡°íŠ¸/ë°©ê°ˆë¡œ ğŸŒºğŸŒŠ", "ìº í•‘/ì•¼ìƒ ìˆ™ì†Œ â›ºğŸ”¥"], 
                        horizontal=True)

    with st.container():
        st.markdown("### ğŸ¥‚ ì—¬í–‰ ì¤‘ ì¦ê¸°ëŠ” í™œë™")
        activity = st.radio("ì—¬í–‰í•  ë•Œ ë‚˜ëŠ”...", 
                            ["ë¯¸ì‹ ì—¬í–‰ ğŸğŸ·", "ì‡¼í•‘ ğŸ›ï¸ğŸ’", "ì¶•ì œÂ·íŒŒí‹° ğŸŠğŸ¶", "íë§Â·ìì—° ğŸŒ²ğŸ§˜", "ëª¨í—˜Â·ìŠ¤í¬ì¸  ğŸ§—ğŸ„"], 
                            horizontal=True)

    if st.button("ì¶”ì²œë°›ê¸° ğŸš€"):
        st.session_state.food = food
        st.session_state.music = music
        st.session_state.climate = climate
        st.session_state.stay = stay
        st.session_state.activity = activity
        st.session_state.page = "result"
        st.rerun()

# ------------------- ê²°ê³¼ í™”ë©´ -------------------
elif st.session_state.page == "result":
    st.title("ğŸŒŸ ë‹¹ì‹ ê³¼ ì–´ìš¸ë¦¬ëŠ” TOP 3 ë‚˜ë¼ ğŸŒŸ")

    # êµ­ê°€ë³„ ì ìˆ˜ ì´ˆê¸°í™”
    countries = {
        "í•œêµ­ ğŸ‡°ğŸ‡·":0, "ì¼ë³¸ ğŸ‡¯ğŸ‡µ":0, "ì¸ë„ ğŸ‡®ğŸ‡³":0, "íƒœêµ­ ğŸ‡¹ğŸ‡­":0, "ì¤‘êµ­ ğŸ‡¨ğŸ‡³":0, "ì‚¬ìš°ë””ì•„ë¼ë¹„ì•„ ğŸ‡¸ğŸ‡¦":0, "í„°í‚¤ ğŸ‡¹ğŸ‡·":0,
        "í”„ë‘ìŠ¤ ğŸ‡«ğŸ‡·":0, "ì´íƒˆë¦¬ì•„ ğŸ‡®ğŸ‡¹":0, "ìŠ¤í˜ì¸ ğŸ‡ªğŸ‡¸":0,
        "ìŠ¤ì›¨ë´ ğŸ‡¸ğŸ‡ª":0, "ë…¸ë¥´ì›¨ì´ ğŸ‡³ğŸ‡´":0, "í•€ë€ë“œ ğŸ‡«ğŸ‡®":0,
        "í´ë€ë“œ ğŸ‡µğŸ‡±":0, "ì²´ì½” ğŸ‡¨ğŸ‡¿":0, "ì˜¤ìŠ¤íŠ¸ë¦¬ì•„ ğŸ‡¦ğŸ‡¹":0,
        "ë¯¸êµ­ ğŸ‡ºğŸ‡¸":0, "ìºë‚˜ë‹¤ ğŸ‡¨ğŸ‡¦":0,
        "ë¸Œë¼ì§ˆ ğŸ‡§ğŸ‡·":0, "ì•„ë¥´í—¨í‹°ë‚˜ ğŸ‡¦ğŸ‡·":0, "ì¹ ë ˆ ğŸ‡¨ğŸ‡±":0, "í˜ë£¨ ğŸ‡µğŸ‡ª":0,
        "ì´ì§‘íŠ¸ ğŸ‡ªğŸ‡¬":0, "ë‚¨ì•„ê³µ ğŸ‡¿ğŸ‡¦":0, "ëª¨ë¡œì½” ğŸ‡²ğŸ‡¦":0, "ì¼€ëƒ ğŸ‡°ğŸ‡ª":0,
        "í˜¸ì£¼ ğŸ‡¦ğŸ‡º":0, "ë‰´ì§ˆëœë“œ ğŸ‡³ğŸ‡¿":0, "í”¼ì§€ ğŸ‡«ğŸ‡¯":0, "í¬ë¥´íˆ¬ê°ˆ ğŸ‡µğŸ‡¹":0
    }

    # ìŒì‹ ë§¤í•‘
    food = st.session_state.food
    if food.startswith("ë§¤ìš´"):
        for c in ["í•œêµ­ ğŸ‡°ğŸ‡·","íƒœêµ­ ğŸ‡¹ğŸ‡­","ì¤‘êµ­ ğŸ‡¨ğŸ‡³"]: countries[c]+=1
    elif food.startswith("ë‹¬ì½¤"):
        for c in ["í”„ë‘ìŠ¤ ğŸ‡«ğŸ‡·","ì´íƒˆë¦¬ì•„ ğŸ‡®ğŸ‡¹","ë¯¸êµ­ ğŸ‡ºğŸ‡¸"]: countries[c]+=1
    elif food.startswith("ë‹´ë°±"):
        for c in ["ì¼ë³¸ ğŸ‡¯ğŸ‡µ","ìŠ¤ì›¨ë´ ğŸ‡¸ğŸ‡ª","í•€ë€ë“œ ğŸ‡«ğŸ‡®"]: countries[c]+=1
    elif food.startswith("ê³ ê¸°"):
        for c in ["ì•„ë¥´í—¨í‹°ë‚˜ ğŸ‡¦ğŸ‡·","í˜¸ì£¼ ğŸ‡¦ğŸ‡º","ë¸Œë¼ì§ˆ ğŸ‡§ğŸ‡·"]: countries[c]+=1
    elif food.startswith("í–¥ì‹ ë£Œ"):
        for c in ["ì¸ë„ ğŸ‡®ğŸ‡³","ëª¨ë¡œì½” ğŸ‡²ğŸ‡¦","ì´ì§‘íŠ¸ ğŸ‡ªğŸ‡¬","ì‚¬ìš°ë””ì•„ë¼ë¹„ì•„ ğŸ‡¸ğŸ‡¦","í„°í‚¤ ğŸ‡¹ğŸ‡·"]: countries[c]+=1

    # ìŒì•… ë§¤í•‘
    music = st.session_state.music
    if music.startswith("íŒ"):
        for c in ["í•œêµ­ ğŸ‡°ğŸ‡·","ë¯¸êµ­ ğŸ‡ºğŸ‡¸","í”„ë‘ìŠ¤ ğŸ‡«ğŸ‡·"]: countries[c]+=1
    elif music.startswith("í´ë˜ì‹"):
        for c in ["í”„ë‘ìŠ¤ ğŸ‡«ğŸ‡·","ì´íƒˆë¦¬ì•„ ğŸ‡®ğŸ‡¹","ì˜¤ìŠ¤íŠ¸ë¦¬ì•„ ğŸ‡¦ğŸ‡¹"]: countries[c]+=1
    elif music.startswith("ì „í†µ"):
        for c in ["ì¼ë³¸ ğŸ‡¯ğŸ‡µ","ì¸ë„ ğŸ‡®ğŸ‡³","ì¼€ëƒ ğŸ‡°ğŸ‡ª","ì‚¬ìš°ë””ì•„ë¼ë¹„ì•„ ğŸ‡¸ğŸ‡¦","í„°í‚¤ ğŸ‡¹ğŸ‡·","ì¤‘êµ­ ğŸ‡¨ğŸ‡³"]: countries[c]+=1
    elif music.startswith("ì¶•ì œ"):
        for c in ["ë¸Œë¼ì§ˆ ğŸ‡§ğŸ‡·","ìŠ¤í˜ì¸ ğŸ‡ªğŸ‡¸","ë‚¨ì•„ê³µ ğŸ‡¿ğŸ‡¦","í¬ë¥´íˆ¬ê°ˆ ğŸ‡µğŸ‡¹"]: countries[c]+=1

    # ê¸°í›„ ë§¤í•‘
    climate = st.session_state.climate
    if climate.startswith("ì‚¬ê³„ì ˆ"):
        for c in ["í•œêµ­ ğŸ‡°ğŸ‡·","ë¯¸êµ­ ğŸ‡ºğŸ‡¸","ìºë‚˜ë‹¤ ğŸ‡¨ğŸ‡¦","í´ë€ë“œ ğŸ‡µğŸ‡±"]: countries[c]+=1
    elif climate.startswith("ë”°ëœ»"):
        for c in ["íƒœêµ­ ğŸ‡¹ğŸ‡­","ë¸Œë¼ì§ˆ ğŸ‡§ğŸ‡·","ì¸ë„ ğŸ‡®ğŸ‡³","í”¼ì§€ ğŸ‡«ğŸ‡¯"]: countries[c]+=1
    elif climate.startswith("ì„ ì„ "):
        for c in ["í”„ë‘ìŠ¤ ğŸ‡«ğŸ‡·","ìŠ¤í˜ì¸ ğŸ‡ªğŸ‡¸","ì¹ ë ˆ ğŸ‡¨ğŸ‡±","ë‰´ì§ˆëœë“œ ğŸ‡³ğŸ‡¿"]: countries[c]+=1
    elif climate.startswith("ì¶”ìš´"):
        for c in ["ìºë‚˜ë‹¤ ğŸ‡¨ğŸ‡¦","í•€ë€ë“œ ğŸ‡«ğŸ‡®","ë…¸ë¥´ì›¨ì´ ğŸ‡³ğŸ‡´","ìŠ¤ì›¨ë´ ğŸ‡¸ğŸ‡ª"]: countries[c]+=1
    elif climate.startswith("ê±´ì¡°"):
        for c in ["ì´ì§‘íŠ¸ ğŸ‡ªğŸ‡¬","ëª¨ë¡œì½” ğŸ‡²ğŸ‡¦","ì‚¬ìš°ë””ì•„ë¼ë¹„ì•„ ğŸ‡¸ğŸ‡¦","ì¼€ëƒ ğŸ‡°ğŸ‡ª"]: countries[c]+=1

    # ìˆ™ì†Œ ë§¤í•‘
    stay = st.session_state.stay
    if stay.startswith("ëŸ­ì…”ë¦¬"):
        for c in ["ë¯¸êµ­ ğŸ‡ºğŸ‡¸","í”„ë‘ìŠ¤ ğŸ‡«ğŸ‡·","í•œêµ­ ğŸ‡°ğŸ‡·","ì‚¬ìš°ë””ì•„ë¼ë¹„ì•„ ğŸ‡¸ğŸ‡¦"]: countries[c]+=1
    elif stay.startswith("ê²ŒìŠ¤íŠ¸"):
        for c in ["ì¼ë³¸ ğŸ‡¯ğŸ‡µ","ì²´ì½” ğŸ‡¨ğŸ‡¿","ìŠ¤í˜ì¸ ğŸ‡ªğŸ‡¸","í¬ë¥´íˆ¬ê°ˆ ğŸ‡µğŸ‡¹"]: countries[c]+=1
    elif stay.startswith("ìì—°"):
        for c in ["íƒœêµ­ ğŸ‡¹ğŸ‡­","í”¼ì§€ ğŸ‡«ğŸ‡¯","ë‰´ì§ˆëœë“œ ğŸ‡³ğŸ‡¿","ì¼€ëƒ ğŸ‡°ğŸ‡ª"]: countries[c]+=1
    elif stay.startswith("ìº í•‘"):
        for c in ["ìºë‚˜ë‹¤ ğŸ‡¨ğŸ‡¦","í•€ë€ë“œ ğŸ‡«ğŸ‡®","ë‚¨ì•„ê³µ ğŸ‡¿ğŸ‡¦","ì¹ ë ˆ ğŸ‡¨ğŸ‡±"]: countries[c]+=1

    # ì—¬í–‰ í™œë™ ë§¤í•‘
    activity = st.session_state.activity
    if activity.startswith("ë¯¸ì‹"):
        for c in ["ì´íƒˆë¦¬ì•„ ğŸ‡®ğŸ‡¹","í”„ë‘ìŠ¤ ğŸ‡«ğŸ‡·","íƒœêµ­ ğŸ‡¹ğŸ‡­","í¬ë¥´íˆ¬ê°ˆ ğŸ‡µğŸ‡¹"]: countries[c]+=1
    elif activity.startswith("ì‡¼í•‘"):
        for c in ["í•œêµ­ ğŸ‡°ğŸ‡·","ì¼ë³¸ ğŸ‡¯ğŸ‡µ","ë¯¸êµ­ ğŸ‡ºğŸ‡¸","ì¤‘êµ­ ğŸ‡¨ğŸ‡³"]: countries[c]+=1
    elif activity.startswith("ì¶•ì œ"):
        for c in ["ìŠ¤í˜ì¸ ğŸ‡ªğŸ‡¸","ë¸Œë¼ì§ˆ ğŸ‡§ğŸ‡·","ë‚¨ì•„ê³µ ğŸ‡¿ğŸ‡¦","í¬ë¥´íˆ¬ê°ˆ ğŸ‡µğŸ‡¹"]: countries[c]+=1
    elif activity.startswith("íë§"):
        for c in ["ë‰´ì§ˆëœë“œ ğŸ‡³ğŸ‡¿","ìºë‚˜ë‹¤ ğŸ‡¨ğŸ‡¦","í•€ë€ë“œ ğŸ‡«ğŸ‡®","ì¼€ëƒ ğŸ‡°ğŸ‡ª"]: countries[c]+=1
    elif activity.startswith("ëª¨í—˜"):
        for c in ["í˜¸ì£¼ ğŸ‡¦ğŸ‡º","ì¹ ë ˆ ğŸ‡¨ğŸ‡±","ë‚¨ì•„ê³µ ğŸ‡¿ğŸ‡¦","ë…¸ë¥´ì›¨ì´ ğŸ‡³ğŸ‡´"]: countries[c]+=1

    # ê²°ê³¼ ê³„ì‚°
    sorted_countries = sorted(countries.items(), key=lambda x: x[1], reverse=True)
    top3 = sorted_countries[:3]

    descriptions = {
        "í•œêµ­ ğŸ‡°ğŸ‡·":"ğŸ”¥ K-pop, í•œì‹, ì „í†µê³¼ í˜„ëŒ€ê°€ ê³µì¡´í•˜ëŠ” ë‚˜ë¼ ğŸ¶ğŸœğŸ™ï¸",
        "ì¼ë³¸ ğŸ‡¯ğŸ‡µ":"ğŸŒ ì• ë‹ˆë©”ì´ì…˜, ì˜¨ì²œ, ì‚¬ì¿ ë¼ê¹Œì§€ ë‹¤ì±„ë¡œìš´ ë§¤ë ¥ ğŸ£ğŸŒ¸ğŸ¯",
        "ì¸ë„ ğŸ‡®ğŸ‡³":"ğŸ•Œ í–¥ì‹ ë£Œ, ìš”ê°€, ë‹¤ì±„ë¡œìš´ ìƒ‰ì˜ ë‚˜ë¼ ğŸŒˆğŸ›ğŸª”",
        "íƒœêµ­ ğŸ‡¹ğŸ‡­":"ğŸŒ´ ë¯¸ì†Œì˜ ë‚˜ë¼, ë§›ìˆëŠ” ìŒì‹ê³¼ íœ´ì–‘ ì²œêµ­ ğŸ˜‹ğŸ¹ğŸ–ï¸",
        "ì¤‘êµ­ ğŸ‡¨ğŸ‡³":"ğŸ‰ ê±°ëŒ€í•œ ì—­ì‚¬ì™€ ë‹¤ì–‘í•œ ìŒì‹, ë¬¸í™”ì˜ ìš© ğŸ¯ğŸ¥ŸğŸš„",
        "ì‚¬ìš°ë””ì•„ë¼ë¹„ì•„ ğŸ‡¸ğŸ‡¦":"â›½ ì‚¬ë§‰, ì˜¤ì•„ì‹œìŠ¤, ì´ìŠ¬ëŒ ë¬¸í™”ì˜ ì¤‘ì‹¬ ğŸœï¸ğŸ•Œ",
        "í„°í‚¤ ğŸ‡¹ğŸ‡·":"ğŸ•Œ ìœ ëŸ½ê³¼ ì•„ì‹œì•„ì˜ ë‹¤ë¦¬, ë¯¸ì‹ê³¼ ì—­ì‚¬ ğŸŒ‰ğŸ¥™",
        "í”„ë‘ìŠ¤ ğŸ‡«ğŸ‡·":"ğŸ· ë‚­ë§Œê³¼ ì˜ˆìˆ , ì™€ì¸ì˜ ì²œêµ­ ğŸ—¼ğŸ¥–ğŸ¨",
        "ì´íƒˆë¦¬ì•„ ğŸ‡®ğŸ‡¹":"ğŸ• ë¥´ë„¤ìƒìŠ¤ì™€ íŒŒìŠ¤íƒ€, ë¡œë§ˆì˜ ìœ ì‚° ğŸğŸ›ï¸",
        "ìŠ¤í˜ì¸ ğŸ‡ªğŸ‡¸":"ğŸ’ƒ íƒœì–‘ê³¼ í”Œë¼ë©©ì½”, ì§€ì¤‘í•´ì˜ ë‚­ë§Œ ğŸŒğŸ·",
        "ìŠ¤ì›¨ë´ ğŸ‡¸ğŸ‡ª":"â„ï¸ ë¶ìœ ëŸ½ ê°ì„±, ë””ìì¸ê³¼ ìì—°ì˜ ì¡°í™” ğŸ›¶ğŸ”ï¸",
        "ë…¸ë¥´ì›¨ì´ ğŸ‡³ğŸ‡´":"ğŸ”ï¸ í”¼ì˜¤ë¥´ë“œì™€ ì˜¤ë¡œë¼ì˜ ë‚˜ë¼ ğŸŒŒğŸ›³ï¸",
        "í•€ë€ë“œ ğŸ‡«ğŸ‡®":"ğŸ¦Œ ì‚°íƒ€ë§ˆì„ê³¼ ì²­ì • ìì—°ì˜ ê³ í–¥ ğŸ…ğŸŒ²",
        "í´ë€ë“œ ğŸ‡µğŸ‡±":"ğŸ° ì¤‘ì„¸ ë„ì‹œì™€ ê·¼í˜„ëŒ€ ì—­ì‚¬ ğŸ™ï¸âš”ï¸",
        "ì²´ì½” ğŸ‡¨ğŸ‡¿":"ğŸº í”„ë¼í•˜ì™€ ë§¥ì£¼ì˜ ì²œêµ­ ğŸ°ğŸ»",
        "ì˜¤ìŠ¤íŠ¸ë¦¬ì•„ ğŸ‡¦ğŸ‡¹":"ğŸ¼ ëª¨ì°¨ë¥´íŠ¸ì™€ ìŒì•…, ì•Œí”„ìŠ¤ì˜ ìì—° ğŸ”ï¸ğŸ¶",
        "ë¯¸êµ­ ğŸ‡ºğŸ‡¸":"ğŸ¬ ììœ ì™€ ê¸°íšŒì˜ ë•…, í—ë¦¬ìš°ë“œì™€ ëŒ€ë„ì‹œ ğŸ—½ğŸ”",
        "ìºë‚˜ë‹¤ ğŸ‡¨ğŸ‡¦":"ğŸ ê´‘í™œí•œ ìì—°ê³¼ ë‹¤ë¬¸í™” ì‚¬íšŒ ğŸ¦ŒğŸï¸",
        "ë¸Œë¼ì§ˆ ğŸ‡§ğŸ‡·":"ğŸ‰ ì‚¼ë°”, ì¹´ë‹ˆë°œ, ì•„ë§ˆì¡´ ì •ê¸€ ğŸ¥ğŸŒ³",
        "ì•„ë¥´í—¨í‹°ë‚˜ ğŸ‡¦ğŸ‡·":"ğŸ¥© íƒ±ê³ ì™€ ìŠ¤í…Œì´í¬, ì—´ì •ì˜ ë‚˜ë¼ ğŸ’ƒğŸ·",
        "ì¹ ë ˆ ğŸ‡¨ğŸ‡±":"ğŸŒ‹ ì•ˆë°ìŠ¤ì™€ ì™€ì¸ì˜ ë‚˜ë¼ ğŸ‡ğŸ”ï¸",
        "í˜ë£¨ ğŸ‡µğŸ‡ª":"ğŸ”ï¸ ë§ˆì¶”í”½ì¶”ì™€ ì‰ì¹´ ë¬¸ëª… ğŸ¦™ğŸŒ„",
        "ì´ì§‘íŠ¸ ğŸ‡ªğŸ‡¬":"ğŸº í”¼ë¼ë¯¸ë“œì™€ ìŠ¤í•‘í¬ìŠ¤, ê³ ëŒ€ ì‹ ë¹„ ğŸªğŸŒ",
        "ë‚¨ì•„ê³µ ğŸ‡¿ğŸ‡¦":"ğŸ¦ ì‚¬íŒŒë¦¬ì™€ ë‹¤ì–‘í•œ ë¬¸í™” ğŸŒğŸ¶",
        "ëª¨ë¡œì½” ğŸ‡²ğŸ‡¦":"ğŸŒ™ ì•„ë ì‹œì¥ê³¼ ì‚¬í•˜ë¼ì˜ ë§¤ë ¥ ğŸ•ŒğŸª",
        "ì¼€ëƒ ğŸ‡°ğŸ‡ª":"ğŸ˜ ì•¼ìƒ ì‚¬íŒŒë¦¬ì™€ ëŒ€ìì—° ğŸ¦’ğŸŒ³",
        "í˜¸ì£¼ ğŸ‡¦ğŸ‡º":"ğŸ¨ ëŒ€ìì—°ê³¼ í˜„ëŒ€ ë„ì‹œ ğŸŒŠğŸ™ï¸",
        "ë‰´ì§ˆëœë“œ ğŸ‡³ğŸ‡¿":"â›°ï¸ ë°˜ì§€ì˜ ì œì™• ì´¬ì˜ì§€, ì²­ì • ìì—° ğŸï¸ğŸ‘",
        "í”¼ì§€ ğŸ‡«ğŸ‡¯":"ğŸï¸ ë‚¨íƒœí‰ì–‘ì˜ ì²œêµ­ ğŸŒŠğŸ¹",
        "í¬ë¥´íˆ¬ê°ˆ ğŸ‡µğŸ‡¹":"ğŸ· íŒŒë‘ì™€ ì™€ì¸, ëŒ€ì„œì–‘ì˜ ë§¤ë ¥ ğŸ‡µğŸ‡¹ğŸŒŠ"
    }

    medals = ["ğŸ¥‡", "ğŸ¥ˆ", "ğŸ¥‰"]

    for i, (country, score) in enumerate(top3, start=1):
        desc = descriptions.get(country, "ë§¤ë ¥ì ì¸ ë‚˜ë¼ì˜ˆìš”! ğŸ‰ğŸŒâœ¨")
        medal = medals[i-1]
        badge_html = ""
        if country in attention_needed:
            badge_html = '<div style="background-color: #fff3cd; color: #856404; padding:6px 12px; border-radius:10px; text-align:center; font-size:18px; margin-top:10px;">âš ï¸ ì—¬í–‰ ì£¼ì˜ í•„ìš”</div>'

        st.markdown(
            f"""
            <div style="background: linear-gradient(135deg, #FFDEE9 0%, #B5FFFC 100%);
                        border-radius:20px; padding:25px; margin-bottom:20px; 
                        box-shadow:4px 4px 15px rgba(0,0,0,0.2);">
                <h2 style="text-align:center; font-size:40px;">{medal} TOP {i}: {country} ğŸŒˆâœ¨</h2>
                <p style="text-align:center; font-size:22px;">{desc}</p>
                {badge_html}
            </div>
            """,
            unsafe_allow_html=True
        )

    if st.button("ğŸ”™ ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°"):
        st.session_state.page = "home"
        st.rerun()
